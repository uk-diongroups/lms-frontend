!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("preact")):"function"==typeof define&&define.amd?define(["exports","preact"],t):t((e||self).preactRenderToString={},e.preact)}(this,function(e,t){var n=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,r=/[&<>"]/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},i=function(e){return o[e]||e};function a(e){return"string"!=typeof e&&(e=String(e)),e.replace(r,i)}var l=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"\t"))},s=function(e,t,n){return String(e).length>(t||40)||!n&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},f={};function p(e){var t="";for(var r in e){var o=e[r];null!=o&&""!==o&&(t&&(t+=" "),t+="-"==r[0]?r:f[r]||(f[r]=r.replace(/([A-Z])/g,"-$1").toLowerCase()),t+=": ",t+=o,"number"==typeof o&&!1===n.test(r)&&(t+="px"),t+=";")}return t||void 0}function u(e,t){for(var n in t)e[n]=t[n];return e}function c(e,t){return Array.isArray(t)?t.reduce(c,e):null!=t&&!1!==t&&e.push(t),e}var d={shallow:!0},_=[],g=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,v=/[\s\n\\/='"\0<>]/,h=function(){};x.render=x;var m=function(e,t){return x(e,t,d)},y=[];function x(e,n,r){var o=b(e,n,r);return t.options.__c&&t.options.__c(e,y),o}function b(e,n,r,o,i,f){if(null==e||"boolean"==typeof e)return"";Array.isArray(e)&&(e=t.createElement(t.Fragment,null,e));var d=e.type,m=e.props,y=!1;n=n||{};var x,S=(r=r||{}).pretty,w=S&&"string"==typeof S?S:"\t";if("object"!=typeof e&&!d)return a(e);if("function"==typeof d){if(y=!0,!r.shallow||!o&&!1!==r.renderRootComponent){if(d===t.Fragment){var k="",O=[];c(O,e.props.children);for(var T=0;T<O.length;T++)k+=(T>0&&S?"\n":"")+b(O[T],n,r,!1!==r.shallowHighOrder,i,f);return k}var C,A=e.__c={__v:e,context:n,props:e.props,setState:h,forceUpdate:h,__h:[]};if(t.options.__b&&t.options.__b(e),t.options.__r&&t.options.__r(e),d.prototype&&"function"==typeof d.prototype.render){var F=d.contextType,j=F&&n[F.__c],H=null!=F?j?j.props.value:F.__:n;(A=e.__c=new d(m,H)).__v=e,A._dirty=A.__d=!0,A.props=m,null==A.state&&(A.state={}),null==A._nextState&&null==A.__s&&(A._nextState=A.__s=A.state),A.context=H,d.getDerivedStateFromProps?A.state=u(u({},A.state),d.getDerivedStateFromProps(A.props,A.state)):A.componentWillMount&&(A.componentWillMount(),A.state=A._nextState!==A.state?A._nextState:A.__s!==A.state?A.__s:A.state),C=A.render(A.props,A.state,A.context)}else{var M=d.contextType,$=M&&n[M.__c];C=d.call(e.__c,m,null!=M?$?$.props.value:M.__:n)}return A.getChildContext&&(n=u(u({},n),A.getChildContext())),t.options.diffed&&t.options.diffed(e),b(C,n,r,!1!==r.shallowHighOrder,i,f)}d=(x=d).displayName||x!==Function&&x.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var n=-1,r=_.length;r--;)if(_[r]===e){n=r;break}n<0&&(n=_.push(e)-1),t="UnnamedComponent"+n}return t}(x)}var E,L,R="";if(m){var q=Object.keys(m);r&&!0===r.sortAttributes&&q.sort();for(var D=0;D<q.length;D++){var N=q[D],P=m[N];if("children"!==N){if(!N.match(/[\s\n\\/='"\0<>]/)&&(r&&r.allAttributes||"key"!==N&&"ref"!==N&&"__self"!==N&&"__source"!==N&&"defaultValue"!==N)){if("className"===N){if(m.class)continue;N="class"}else i&&N.match(/^xlink:?./)&&(N=N.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===N){if(m.for)continue;N="for"}"style"===N&&P&&"object"==typeof P&&(P=p(P)),"a"===N[0]&&"r"===N[1]&&"boolean"==typeof P&&(P=String(P));var U=r.attributeHook&&r.attributeHook(N,P,n,r,y);if(U||""===U)R+=U;else if("dangerouslySetInnerHTML"===N)L=P&&P.__html;else if("textarea"===d&&"value"===N)E=P;else if((P||0===P||""===P)&&"function"!=typeof P){if(!(!0!==P&&""!==P||(P=N,r&&r.xml))){R+=" "+N;continue}if("value"===N){if("select"===d){f=P;continue}"option"===d&&f==P&&(R+=" selected")}R+=" "+N+'="'+a(P)+'"'}}}else E=P}}if(S){var W=R.replace(/^\n\s*/," ");W===R||~W.indexOf("\n")?S&&~R.indexOf("\n")&&(R+="\n"):R=W}if(R="<"+d+R+">",v.test(String(d)))throw new Error(d+" is not a valid HTML tag name in "+R);var z,I=g.test(String(d))||r.voidElements&&r.voidElements.test(String(d)),V=[];if(L)S&&s(L)&&(L="\n"+w+l(L,w)),R+=L;else if(null!=E&&c(z=[],E).length){for(var Z=S&&~R.indexOf("\n"),B=!1,G=0;G<z.length;G++){var J=z[G];if(null!=J&&!1!==J){var K=b(J,n,r,!0,"svg"===d||"foreignObject"!==d&&i,f);if(S&&!Z&&s(K)&&(Z=!0),K)if(S){var Q=K.length>0&&"<"!=K[0];B&&Q?V[V.length-1]+=K:V.push(K),B=Q}else V.push(K)}}if(S&&Z)for(var X=V.length;X--;)V[X]="\n"+w+l(V[X],w)}if(V.length||L)R+=V.join("");else if(r&&r.xml)return R.substring(0,R.length-1)+" />";return!I||z||L?(S&&~R.indexOf("\n")&&(R+="\n"),R+="</"+d+">"):R=R.replace(/>$/," />"),R}x.shallowRender=m,e.default=x,e.render=x,e.renderToStaticMarkup=x,e.renderToString=x,e.shallowRender=m});
//# sourceMappingURL=index.js.map
